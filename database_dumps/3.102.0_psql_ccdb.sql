--
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: citext; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS citext WITH SCHEMA public;


--
-- Name: EXTENSION citext; Type: COMMENT; Schema: -; Owner:
--

COMMENT ON EXTENSION citext IS 'data type for case-insensitive character strings';


--
-- Name: pgcrypto; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pgcrypto WITH SCHEMA public;


--
-- Name: EXTENSION pgcrypto; Type: COMMENT; Schema: -; Owner:
--

COMMENT ON EXTENSION pgcrypto IS 'cryptographic functions';


--
-- Name: uuid-ossp; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS "uuid-ossp" WITH SCHEMA public;


--
-- Name: EXTENSION "uuid-ossp"; Type: COMMENT; Schema: -; Owner:
--

COMMENT ON EXTENSION "uuid-ossp" IS 'generate universally unique identifiers (UUIDs)';


--
-- Name: get_uuid(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.get_uuid() RETURNS text
    LANGUAGE plpgsql
    AS $$
BEGIN
BEGIN
RETURN gen_random_uuid();
EXCEPTION WHEN OTHERS THEN
          RETURN uuid_generate_v4();
END;
END;
       $$;


ALTER FUNCTION public.get_uuid() OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: app_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.app_annotations (
                                        id integer NOT NULL,
                                        guid text NOT NULL,
                                        created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                        updated_at timestamp without time zone,
                                        resource_guid character varying(255),
                                        key_prefix character varying(253),
                                        key character varying(1000),
                                        value character varying(5000)
);


ALTER TABLE public.app_annotations OWNER TO postgres;

--
-- Name: app_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.app_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.app_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: app_events; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.app_events (
                                   id integer NOT NULL,
                                   guid text NOT NULL,
                                   created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                   updated_at timestamp without time zone,
                                   app_id integer NOT NULL,
                                   instance_guid text NOT NULL,
                                   instance_index integer NOT NULL,
                                   exit_status integer NOT NULL,
                                   "timestamp" timestamp without time zone NOT NULL,
                                   exit_description text
);


ALTER TABLE public.app_events OWNER TO postgres;

--
-- Name: app_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.app_labels (
                                   id integer NOT NULL,
                                   guid text NOT NULL,
                                   created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                   updated_at timestamp without time zone,
                                   resource_guid character varying(255),
                                   key_prefix character varying(253),
                                   key_name character varying(63),
                                   value character varying(63)
);


ALTER TABLE public.app_labels OWNER TO postgres;

--
-- Name: app_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.app_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.app_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: security_groups; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.security_groups (
                                        id integer NOT NULL,
                                        guid text NOT NULL,
                                        created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                        updated_at timestamp without time zone,
                                        name text NOT NULL,
                                        rules text,
                                        staging_default boolean DEFAULT false,
                                        running_default boolean DEFAULT false
);


ALTER TABLE public.security_groups OWNER TO postgres;

--
-- Name: app_security_groups_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.security_groups ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.app_security_groups_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: app_usage_events; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.app_usage_events (
                                         id integer NOT NULL,
                                         guid text NOT NULL,
                                         created_at timestamp without time zone NOT NULL,
                                         instance_count integer NOT NULL,
                                         memory_in_mb_per_instance integer NOT NULL,
                                         state text NOT NULL,
                                         app_guid text NOT NULL,
                                         app_name text NOT NULL,
                                         space_guid text NOT NULL,
                                         space_name text NOT NULL,
                                         org_guid text NOT NULL,
                                         buildpack_guid text,
                                         buildpack_name text,
                                         package_state text,
                                         parent_app_name text,
                                         parent_app_guid text,
                                         process_type text,
                                         task_guid text,
                                         task_name text,
                                         package_guid text,
                                         previous_state text,
                                         previous_package_state text,
                                         previous_memory_in_mb_per_instance integer,
                                         previous_instance_count integer
);


ALTER TABLE public.app_usage_events OWNER TO postgres;

--
-- Name: app_usage_events_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.app_usage_events ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.app_usage_events_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: apps; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.apps (
                             id integer NOT NULL,
                             guid text NOT NULL,
                             created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                             updated_at timestamp without time zone,
                             space_guid text,
                             name public.citext,
                             droplet_guid text,
                             desired_state text DEFAULT 'STOPPED'::text,
                             encrypted_environment_variables text,
                             salt text,
                             max_task_sequence_id integer DEFAULT 1,
                             buildpack_cache_sha256_checksum text,
                             enable_ssh boolean,
                             encryption_key_label character varying(255),
                             encryption_iterations integer DEFAULT 2048 NOT NULL,
                             revisions_enabled boolean DEFAULT true
);


ALTER TABLE public.apps OWNER TO postgres;

--
-- Name: processes; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.processes (
                                  id integer NOT NULL,
                                  guid text NOT NULL,
                                  created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                  updated_at timestamp without time zone,
                                  production boolean DEFAULT false,
                                  memory integer,
                                  instances integer DEFAULT 1,
                                  file_descriptors integer DEFAULT 16384,
                                  disk_quota integer DEFAULT 2048,
                                  state text DEFAULT 'STOPPED'::text NOT NULL,
                                  version text,
                                  metadata character varying(4096) DEFAULT '{}'::character varying NOT NULL,
                                  detected_buildpack text,
                                  not_deleted boolean DEFAULT true,
                                  health_check_timeout integer,
                                  diego boolean DEFAULT false,
                                  package_updated_at timestamp without time zone,
                                  app_guid text,
                                  type text DEFAULT 'web'::text,
                                  health_check_type text DEFAULT 'port'::text,
                                  command character varying(4096),
                                  enable_ssh boolean DEFAULT false,
                                  encrypted_docker_credentials_json text,
                                  docker_salt text,
                                  ports text,
                                  health_check_http_endpoint text,
                                  health_check_invocation_timeout integer,
                                  revision_guid character varying(255)
);


ALTER TABLE public.processes OWNER TO postgres;

--
-- Name: apps_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.processes ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.apps_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: route_mappings; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.route_mappings (
                                       id integer NOT NULL,
                                       created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                       updated_at timestamp without time zone,
                                       app_port integer DEFAULT '-1'::integer,
                                       guid text NOT NULL,
                                       app_guid text NOT NULL,
                                       route_guid text NOT NULL,
                                       process_type text,
                                       weight integer
);


ALTER TABLE public.route_mappings OWNER TO postgres;

--
-- Name: apps_routes_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.route_mappings ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.apps_routes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: apps_v3_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.apps ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.apps_v3_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: build_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.build_annotations (
                                          id integer NOT NULL,
                                          guid text NOT NULL,
                                          created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                          updated_at timestamp without time zone,
                                          resource_guid character varying(255),
                                          key_prefix character varying(253),
                                          key character varying(1000),
                                          value character varying(5000)
);


ALTER TABLE public.build_annotations OWNER TO postgres;

--
-- Name: build_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.build_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.build_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: build_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.build_labels (
                                     id integer NOT NULL,
                                     guid text NOT NULL,
                                     created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                     updated_at timestamp without time zone,
                                     resource_guid character varying(255),
                                     key_prefix character varying(253),
                                     key_name character varying(63),
                                     value character varying(63)
);


ALTER TABLE public.build_labels OWNER TO postgres;

--
-- Name: build_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.build_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.build_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: buildpack_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.buildpack_annotations (
                                              id integer NOT NULL,
                                              guid text NOT NULL,
                                              created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                              updated_at timestamp without time zone,
                                              resource_guid character varying(255),
                                              key_prefix character varying(253),
                                              key character varying(1000),
                                              value character varying(5000)
);


ALTER TABLE public.buildpack_annotations OWNER TO postgres;

--
-- Name: buildpack_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.buildpack_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.buildpack_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: buildpack_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.buildpack_labels (
                                         id integer NOT NULL,
                                         guid text NOT NULL,
                                         created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                         updated_at timestamp without time zone,
                                         resource_guid character varying(255),
                                         key_prefix character varying(253),
                                         key_name character varying(63),
                                         value character varying(63)
);


ALTER TABLE public.buildpack_labels OWNER TO postgres;

--
-- Name: buildpack_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.buildpack_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.buildpack_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: buildpack_lifecycle_buildpacks; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.buildpack_lifecycle_buildpacks (
                                                       id integer NOT NULL,
                                                       guid text NOT NULL,
                                                       created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                       updated_at timestamp without time zone,
                                                       admin_buildpack_name text,
                                                       encrypted_buildpack_url character varying(16000),
                                                       encrypted_buildpack_url_salt text,
                                                       buildpack_lifecycle_data_guid text,
                                                       encryption_key_label character varying(255),
                                                       version character varying(255),
                                                       buildpack_name character varying(2047),
                                                       encryption_iterations integer DEFAULT 2048 NOT NULL
);


ALTER TABLE public.buildpack_lifecycle_buildpacks OWNER TO postgres;

--
-- Name: buildpack_lifecycle_buildpacks_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.buildpack_lifecycle_buildpacks ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.buildpack_lifecycle_buildpacks_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: buildpack_lifecycle_data; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.buildpack_lifecycle_data (
                                                 id integer NOT NULL,
                                                 guid text NOT NULL,
                                                 created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                 updated_at timestamp without time zone,
                                                 app_guid text,
                                                 droplet_guid text,
                                                 stack text,
                                                 encrypted_buildpack_url text,
                                                 encrypted_buildpack_url_salt text,
                                                 admin_buildpack_name text,
                                                 build_guid text,
                                                 encryption_key_label character varying(255),
                                                 encryption_iterations integer DEFAULT 2048 NOT NULL
);


ALTER TABLE public.buildpack_lifecycle_data OWNER TO postgres;

--
-- Name: buildpack_lifecycle_data_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.buildpack_lifecycle_data ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.buildpack_lifecycle_data_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: buildpacks; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.buildpacks (
                                   id integer NOT NULL,
                                   guid text NOT NULL,
                                   created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                   updated_at timestamp without time zone,
                                   name text NOT NULL,
                                   key text,
                                   "position" integer NOT NULL,
                                   enabled boolean DEFAULT true,
                                   locked boolean DEFAULT false,
                                   filename text,
                                   sha256_checksum text,
                                   stack character varying(255)
);


ALTER TABLE public.buildpacks OWNER TO postgres;

--
-- Name: buildpacks_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.buildpacks ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.buildpacks_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: builds; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.builds (
                               id integer NOT NULL,
                               guid text NOT NULL,
                               created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                               updated_at timestamp without time zone,
                               state text,
                               package_guid text,
                               error_description text,
                               app_guid text,
                               error_id text,
                               created_by_user_guid text,
                               created_by_user_name text,
                               created_by_user_email text,
                               staging_memory_in_mb integer,
                               staging_disk_in_mb integer
);


ALTER TABLE public.builds OWNER TO postgres;

--
-- Name: builds_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.builds ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.builds_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: clock_jobs; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.clock_jobs (
                                   id integer NOT NULL,
                                   name text NOT NULL,
                                   last_started_at timestamp without time zone,
                                   last_completed_at timestamp without time zone
);


ALTER TABLE public.clock_jobs OWNER TO postgres;

--
-- Name: clock_jobs_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.clock_jobs ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.clock_jobs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: crash_events_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.app_events ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.crash_events_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: delayed_jobs; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.delayed_jobs (
                                     id integer NOT NULL,
                                     guid text NOT NULL,
                                     created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                     updated_at timestamp without time zone,
                                     priority integer DEFAULT 0,
                                     attempts integer DEFAULT 0,
                                     handler text,
                                     last_error text,
                                     run_at timestamp without time zone,
                                     locked_at timestamp without time zone,
                                     failed_at timestamp without time zone,
                                     locked_by text,
                                     queue text,
                                     cf_api_error text
);


ALTER TABLE public.delayed_jobs OWNER TO postgres;

--
-- Name: delayed_jobs_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.delayed_jobs ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.delayed_jobs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: deployment_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.deployment_annotations (
                                               id integer NOT NULL,
                                               guid text NOT NULL,
                                               created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                               updated_at timestamp without time zone,
                                               resource_guid character varying(255),
                                               key_prefix character varying(253),
                                               key character varying(1000),
                                               value character varying(5000)
);


ALTER TABLE public.deployment_annotations OWNER TO postgres;

--
-- Name: deployment_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.deployment_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.deployment_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: deployment_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.deployment_labels (
                                          id integer NOT NULL,
                                          guid text NOT NULL,
                                          created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                          updated_at timestamp without time zone,
                                          resource_guid character varying(255),
                                          key_prefix character varying(253),
                                          key_name character varying(63),
                                          value character varying(63)
);


ALTER TABLE public.deployment_labels OWNER TO postgres;

--
-- Name: deployment_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.deployment_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.deployment_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: deployment_processes; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.deployment_processes (
                                             id integer NOT NULL,
                                             guid text NOT NULL,
                                             created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                             updated_at timestamp without time zone,
                                             process_guid character varying(255),
                                             process_type character varying(255),
                                             deployment_guid character varying(255)
);


ALTER TABLE public.deployment_processes OWNER TO postgres;

--
-- Name: deployment_processes_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.deployment_processes ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.deployment_processes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: deployments; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.deployments (
                                    id integer NOT NULL,
                                    guid text NOT NULL,
                                    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                    updated_at timestamp without time zone,
                                    state character varying(255),
                                    app_guid character varying(255),
                                    droplet_guid character varying(255),
                                    deploying_web_process_guid character varying(255),
                                    previous_droplet_guid character varying(255),
                                    original_web_process_instance_count integer NOT NULL,
                                    revision_guid character varying(255),
                                    revision_version integer,
                                    last_healthy_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                    status_value character varying(255),
                                    status_reason character varying(255),
                                    strategy character varying(255) DEFAULT 'rolling'::character varying NOT NULL
);


ALTER TABLE public.deployments OWNER TO postgres;

--
-- Name: deployments_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.deployments ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.deployments_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: domain_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.domain_annotations (
                                           id integer NOT NULL,
                                           guid text NOT NULL,
                                           created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                           updated_at timestamp without time zone,
                                           resource_guid character varying(255),
                                           key_prefix character varying(253),
                                           key character varying(1000),
                                           value character varying(5000)
);


ALTER TABLE public.domain_annotations OWNER TO postgres;

--
-- Name: domain_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.domain_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.domain_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: domain_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.domain_labels (
                                      id integer NOT NULL,
                                      guid text NOT NULL,
                                      created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                      updated_at timestamp without time zone,
                                      resource_guid character varying(255),
                                      key_prefix character varying(253),
                                      key_name character varying(63),
                                      value character varying(63)
);


ALTER TABLE public.domain_labels OWNER TO postgres;

--
-- Name: domain_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.domain_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.domain_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: domains; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.domains (
                                id integer NOT NULL,
                                guid text NOT NULL,
                                created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                updated_at timestamp without time zone,
                                name public.citext NOT NULL,
                                wildcard boolean DEFAULT true NOT NULL,
                                owning_organization_id integer,
                                router_group_guid text,
                                internal boolean DEFAULT false
);


ALTER TABLE public.domains OWNER TO postgres;

--
-- Name: domains_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.domains ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.domains_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: droplet_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.droplet_annotations (
                                            id integer NOT NULL,
                                            guid text NOT NULL,
                                            created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                            updated_at timestamp without time zone,
                                            resource_guid character varying(255),
                                            key_prefix character varying(253),
                                            key character varying(1000),
                                            value character varying(5000)
);


ALTER TABLE public.droplet_annotations OWNER TO postgres;

--
-- Name: droplet_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.droplet_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.droplet_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: droplet_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.droplet_labels (
                                       id integer NOT NULL,
                                       guid text NOT NULL,
                                       created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                       updated_at timestamp without time zone,
                                       resource_guid character varying(255),
                                       key_prefix character varying(253),
                                       key_name character varying(63),
                                       value character varying(63)
);


ALTER TABLE public.droplet_labels OWNER TO postgres;

--
-- Name: droplet_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.droplet_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.droplet_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: droplets; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.droplets (
                                 id integer NOT NULL,
                                 guid text NOT NULL,
                                 created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                 updated_at timestamp without time zone,
                                 droplet_hash text,
                                 execution_metadata text,
                                 state text NOT NULL,
                                 process_types text,
                                 error_id text,
                                 error_description text,
                                 encrypted_environment_variables text,
                                 salt text,
                                 staging_memory_in_mb integer,
                                 staging_disk_in_mb integer,
                                 buildpack_receipt_buildpack text,
                                 buildpack_receipt_buildpack_guid text,
                                 buildpack_receipt_detect_output text,
                                 docker_receipt_image text,
                                 package_guid text,
                                 app_guid text,
                                 sha256_checksum text,
                                 build_guid text,
                                 docker_receipt_username text,
                                 docker_receipt_password_salt text,
                                 encrypted_docker_receipt_password character varying(16000),
                                 encryption_key_label character varying(255),
                                 encryption_iterations integer DEFAULT 2048 NOT NULL,
                                 sidecars text
);


ALTER TABLE public.droplets OWNER TO postgres;

--
-- Name: droplets_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.droplets ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.droplets_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: encryption_key_sentinels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.encryption_key_sentinels (
                                                 id integer NOT NULL,
                                                 guid text NOT NULL,
                                                 created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                 updated_at timestamp without time zone,
                                                 expected_value character varying(255),
                                                 encrypted_value character varying(255),
                                                 encryption_key_label character varying(255),
                                                 salt character varying(255),
                                                 encryption_iterations integer DEFAULT 2048 NOT NULL
);


ALTER TABLE public.encryption_key_sentinels OWNER TO postgres;

--
-- Name: encryption_key_sentinels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.encryption_key_sentinels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.encryption_key_sentinels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: env_groups; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.env_groups (
                                   id integer NOT NULL,
                                   guid text NOT NULL,
                                   created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                   updated_at timestamp without time zone,
                                   name text NOT NULL,
                                   environment_json text,
                                   salt text,
                                   encryption_key_label character varying(255),
                                   encryption_iterations integer DEFAULT 2048 NOT NULL
);


ALTER TABLE public.env_groups OWNER TO postgres;

--
-- Name: env_groups_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.env_groups ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.env_groups_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: events; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.events (
                               id integer NOT NULL,
                               guid text NOT NULL,
                               created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                               updated_at timestamp without time zone,
                               "timestamp" timestamp without time zone NOT NULL,
                               type text NOT NULL,
                               actor text NOT NULL,
                               actor_type text NOT NULL,
                               actee text NOT NULL,
                               actee_type text NOT NULL,
                               metadata text,
                               organization_guid text DEFAULT ''::text NOT NULL,
                               space_guid text DEFAULT ''::text NOT NULL,
                               actor_name text,
                               actee_name text,
                               actor_username text
);


ALTER TABLE public.events OWNER TO postgres;

--
-- Name: events_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.events ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.events_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: feature_flags; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.feature_flags (
                                      id integer NOT NULL,
                                      guid text NOT NULL,
                                      created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                      updated_at timestamp without time zone,
                                      name text NOT NULL,
                                      enabled boolean NOT NULL,
                                      error_message text
);


ALTER TABLE public.feature_flags OWNER TO postgres;

--
-- Name: feature_flags_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.feature_flags ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.feature_flags_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: isolation_segment_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.isolation_segment_annotations (
                                                      id integer NOT NULL,
                                                      guid text NOT NULL,
                                                      created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                      updated_at timestamp without time zone,
                                                      resource_guid character varying(255),
                                                      key_prefix character varying(253),
                                                      key character varying(1000),
                                                      value character varying(5000)
);


ALTER TABLE public.isolation_segment_annotations OWNER TO postgres;

--
-- Name: isolation_segment_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.isolation_segment_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.isolation_segment_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: isolation_segment_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.isolation_segment_labels (
                                                 id integer NOT NULL,
                                                 guid text NOT NULL,
                                                 created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                 updated_at timestamp without time zone,
                                                 resource_guid character varying(255),
                                                 key_prefix character varying(253),
                                                 key_name character varying(63),
                                                 value character varying(63)
);


ALTER TABLE public.isolation_segment_labels OWNER TO postgres;

--
-- Name: isolation_segment_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.isolation_segment_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.isolation_segment_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: isolation_segments; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.isolation_segments (
                                           id integer NOT NULL,
                                           guid text NOT NULL,
                                           created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                           updated_at timestamp without time zone,
                                           name public.citext NOT NULL
);


ALTER TABLE public.isolation_segments OWNER TO postgres;

--
-- Name: isolation_segments_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.isolation_segments ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.isolation_segments_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: job_warnings; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.job_warnings (
                                     id integer NOT NULL,
                                     guid text NOT NULL,
                                     created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                     updated_at timestamp without time zone,
                                     detail character varying(16000) NOT NULL,
                                     job_id integer NOT NULL,
                                     fk_jobs_id integer
);


ALTER TABLE public.job_warnings OWNER TO postgres;

--
-- Name: job_warnings_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.job_warnings ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.job_warnings_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: jobs; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.jobs (
                             id integer NOT NULL,
                             guid text NOT NULL,
                             created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                             updated_at timestamp without time zone,
                             state text,
                             operation text,
                             resource_guid text,
                             resource_type text,
                             delayed_job_guid text,
                             cf_api_error character varying(16000)
);


ALTER TABLE public.jobs OWNER TO postgres;

--
-- Name: jobs_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.jobs ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.jobs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: kpack_lifecycle_data; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.kpack_lifecycle_data (
                                             id integer NOT NULL,
                                             guid text NOT NULL,
                                             created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                             updated_at timestamp without time zone,
                                             build_guid character varying(255),
                                             droplet_guid character varying(255),
                                             app_guid character varying(255),
                                             buildpacks character varying(5000) DEFAULT '[]'::character varying
);


ALTER TABLE public.kpack_lifecycle_data OWNER TO postgres;

--
-- Name: kpack_lifecycle_data_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.kpack_lifecycle_data ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.kpack_lifecycle_data_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: lockings; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.lockings (
                                 id integer NOT NULL,
                                 name text NOT NULL
);


ALTER TABLE public.lockings OWNER TO postgres;

--
-- Name: lockings_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.lockings ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.lockings_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: organization_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.organization_annotations (
                                                 id integer NOT NULL,
                                                 guid text NOT NULL,
                                                 created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                 updated_at timestamp without time zone,
                                                 resource_guid character varying(255),
                                                 key_prefix character varying(253),
                                                 key character varying(1000),
                                                 value character varying(5000)
);


ALTER TABLE public.organization_annotations OWNER TO postgres;

--
-- Name: organization_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.organization_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.organization_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: organization_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.organization_labels (
                                            id integer NOT NULL,
                                            guid text NOT NULL,
                                            created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                            updated_at timestamp without time zone,
                                            resource_guid character varying(255),
                                            key_prefix character varying(253),
                                            key_name character varying(63),
                                            value character varying(63)
);


ALTER TABLE public.organization_labels OWNER TO postgres;

--
-- Name: organization_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.organization_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.organization_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: organizations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.organizations (
                                      id integer NOT NULL,
                                      guid text NOT NULL,
                                      created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                      updated_at timestamp without time zone,
                                      name public.citext NOT NULL,
                                      billing_enabled boolean DEFAULT false NOT NULL,
                                      quota_definition_id integer NOT NULL,
                                      status text DEFAULT 'active'::text,
                                      default_isolation_segment_guid text
);


ALTER TABLE public.organizations OWNER TO postgres;

--
-- Name: organizations_auditors; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.organizations_auditors (
                                               organization_id integer NOT NULL,
                                               user_id integer NOT NULL,
                                               organizations_auditors_pk integer NOT NULL,
                                               role_guid character varying(255),
                                               created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                               updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.organizations_auditors OWNER TO postgres;

--
-- Name: organizations_auditors_organizations_auditors_pk_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.organizations_auditors ALTER COLUMN organizations_auditors_pk ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.organizations_auditors_organizations_auditors_pk_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: organizations_billing_managers; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.organizations_billing_managers (
                                                       organization_id integer NOT NULL,
                                                       user_id integer NOT NULL,
                                                       organizations_billing_managers_pk integer NOT NULL,
                                                       role_guid character varying(255),
                                                       created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                       updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.organizations_billing_managers OWNER TO postgres;

--
-- Name: organizations_billing_manager_organizations_billing_manager_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.organizations_billing_managers ALTER COLUMN organizations_billing_managers_pk ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.organizations_billing_manager_organizations_billing_manager_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: organizations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.organizations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.organizations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: organizations_isolation_segments; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.organizations_isolation_segments (
                                                         organization_guid text NOT NULL,
                                                         isolation_segment_guid text NOT NULL
);


ALTER TABLE public.organizations_isolation_segments OWNER TO postgres;

--
-- Name: organizations_managers; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.organizations_managers (
                                               organization_id integer NOT NULL,
                                               user_id integer NOT NULL,
                                               organizations_managers_pk integer NOT NULL,
                                               role_guid character varying(255),
                                               created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                               updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.organizations_managers OWNER TO postgres;

--
-- Name: organizations_managers_organizations_managers_pk_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.organizations_managers ALTER COLUMN organizations_managers_pk ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.organizations_managers_organizations_managers_pk_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: organizations_private_domains; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.organizations_private_domains (
                                                      organization_id integer NOT NULL,
                                                      private_domain_id integer NOT NULL,
                                                      organizations_private_domains_pk integer NOT NULL
);


ALTER TABLE public.organizations_private_domains OWNER TO postgres;

--
-- Name: organizations_private_domains_organizations_private_domains_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.organizations_private_domains ALTER COLUMN organizations_private_domains_pk ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.organizations_private_domains_organizations_private_domains_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: organizations_users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.organizations_users (
                                            organization_id integer NOT NULL,
                                            user_id integer NOT NULL,
                                            organizations_users_pk integer NOT NULL,
                                            role_guid character varying(255),
                                            created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                            updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.organizations_users OWNER TO postgres;

--
-- Name: organizations_users_organizations_users_pk_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.organizations_users ALTER COLUMN organizations_users_pk ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.organizations_users_organizations_users_pk_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: orphaned_blobs; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.orphaned_blobs (
                                       id integer NOT NULL,
                                       guid text NOT NULL,
                                       created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                       updated_at timestamp without time zone,
                                       blob_key text,
                                       dirty_count integer,
                                       blobstore_type text
);


ALTER TABLE public.orphaned_blobs OWNER TO postgres;

--
-- Name: orphaned_blobs_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.orphaned_blobs ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.orphaned_blobs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: package_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.package_annotations (
                                            id integer NOT NULL,
                                            guid text NOT NULL,
                                            created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                            updated_at timestamp without time zone,
                                            resource_guid character varying(255),
                                            key_prefix character varying(253),
                                            key character varying(1000),
                                            value character varying(5000)
);


ALTER TABLE public.package_annotations OWNER TO postgres;

--
-- Name: package_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.package_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.package_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: package_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.package_labels (
                                       id integer NOT NULL,
                                       guid text NOT NULL,
                                       created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                       updated_at timestamp without time zone,
                                       resource_guid character varying(255),
                                       key_prefix character varying(253),
                                       key_name character varying(63),
                                       value character varying(63)
);


ALTER TABLE public.package_labels OWNER TO postgres;

--
-- Name: package_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.package_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.package_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: packages; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.packages (
                                 id integer NOT NULL,
                                 guid text NOT NULL,
                                 created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                 updated_at timestamp without time zone,
                                 type text,
                                 package_hash text,
                                 state text NOT NULL,
                                 error text,
                                 app_guid text,
                                 docker_image text,
                                 sha256_checksum text,
                                 docker_username text,
                                 docker_password_salt text,
                                 encrypted_docker_password character varying(16000),
                                 encryption_key_label character varying(255),
                                 encryption_iterations integer DEFAULT 2048 NOT NULL
);


ALTER TABLE public.packages OWNER TO postgres;

--
-- Name: packages_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.packages ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.packages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: process_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.process_annotations (
                                            id integer NOT NULL,
                                            guid text NOT NULL,
                                            created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                            updated_at timestamp without time zone,
                                            resource_guid character varying(255),
                                            key_prefix character varying(253),
                                            key character varying(1000),
                                            value character varying(5000)
);


ALTER TABLE public.process_annotations OWNER TO postgres;

--
-- Name: process_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.process_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.process_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: process_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.process_labels (
                                       id integer NOT NULL,
                                       guid text NOT NULL,
                                       created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                       updated_at timestamp without time zone,
                                       resource_guid character varying(255),
                                       key_prefix character varying(253),
                                       key_name character varying(63),
                                       value character varying(63)
);


ALTER TABLE public.process_labels OWNER TO postgres;

--
-- Name: process_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.process_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.process_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: quota_definitions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.quota_definitions (
                                          id integer NOT NULL,
                                          guid text NOT NULL,
                                          created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                          updated_at timestamp without time zone,
                                          name public.citext NOT NULL,
                                          non_basic_services_allowed boolean NOT NULL,
                                          total_services integer NOT NULL,
                                          memory_limit integer NOT NULL,
                                          total_routes integer NOT NULL,
                                          instance_memory_limit integer DEFAULT '-1'::integer NOT NULL,
                                          total_private_domains integer DEFAULT '-1'::integer NOT NULL,
                                          app_instance_limit integer DEFAULT '-1'::integer,
                                          app_task_limit integer DEFAULT '-1'::integer,
                                          total_service_keys integer DEFAULT '-1'::integer,
                                          total_reserved_route_ports integer DEFAULT 0
);


ALTER TABLE public.quota_definitions OWNER TO postgres;

--
-- Name: quota_definitions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.quota_definitions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.quota_definitions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: request_counts; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.request_counts (
                                       id integer NOT NULL,
                                       user_guid text,
                                       count integer DEFAULT 0,
                                       valid_until timestamp without time zone
);


ALTER TABLE public.request_counts OWNER TO postgres;

--
-- Name: request_counts_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.request_counts ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.request_counts_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: revision_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.revision_annotations (
                                             id integer NOT NULL,
                                             guid text NOT NULL,
                                             created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                             updated_at timestamp without time zone,
                                             resource_guid character varying(255),
                                             key_prefix character varying(253),
                                             key character varying(1000),
                                             value character varying(5000)
);


ALTER TABLE public.revision_annotations OWNER TO postgres;

--
-- Name: revision_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.revision_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.revision_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: revision_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.revision_labels (
                                        id integer NOT NULL,
                                        guid text NOT NULL,
                                        created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                        updated_at timestamp without time zone,
                                        resource_guid character varying(255),
                                        key_prefix character varying(253),
                                        key_name character varying(63),
                                        value character varying(63)
);


ALTER TABLE public.revision_labels OWNER TO postgres;

--
-- Name: revision_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.revision_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.revision_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: revision_process_commands; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.revision_process_commands (
                                                  id integer NOT NULL,
                                                  guid text NOT NULL,
                                                  created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                  updated_at timestamp without time zone,
                                                  revision_guid character varying(255) NOT NULL,
                                                  process_type character varying(255) NOT NULL,
                                                  process_command character varying(4096)
);


ALTER TABLE public.revision_process_commands OWNER TO postgres;

--
-- Name: revision_process_commands_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.revision_process_commands ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.revision_process_commands_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: revision_sidecar_process_types; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.revision_sidecar_process_types (
                                                       id integer NOT NULL,
                                                       guid text NOT NULL,
                                                       created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                       updated_at timestamp without time zone,
                                                       type character varying(255) NOT NULL,
                                                       revision_sidecar_guid character varying(255) NOT NULL
);


ALTER TABLE public.revision_sidecar_process_types OWNER TO postgres;

--
-- Name: revision_sidecar_process_types_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.revision_sidecar_process_types ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.revision_sidecar_process_types_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: revision_sidecars; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.revision_sidecars (
                                          id integer NOT NULL,
                                          guid text NOT NULL,
                                          created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                          updated_at timestamp without time zone,
                                          name character varying(255) NOT NULL,
                                          command character varying(4096) NOT NULL,
                                          revision_guid character varying(255) NOT NULL,
                                          memory integer
);


ALTER TABLE public.revision_sidecars OWNER TO postgres;

--
-- Name: revision_sidecars_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.revision_sidecars ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.revision_sidecars_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: revisions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.revisions (
                                  id integer NOT NULL,
                                  guid text NOT NULL,
                                  created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                  updated_at timestamp without time zone,
                                  app_guid character varying(255),
                                  version integer DEFAULT 1,
                                  droplet_guid character varying(255),
                                  encrypted_environment_variables text,
                                  salt character varying(255),
                                  encryption_key_label character varying(255),
                                  encryption_iterations integer DEFAULT 2048 NOT NULL,
                                  description text DEFAULT 'N/A'::text NOT NULL
);


ALTER TABLE public.revisions OWNER TO postgres;

--
-- Name: revisions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.revisions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.revisions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: route_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.route_annotations (
                                          id integer NOT NULL,
                                          guid text NOT NULL,
                                          created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                          updated_at timestamp without time zone,
                                          resource_guid character varying(255),
                                          key_prefix character varying(253),
                                          key character varying(1000),
                                          value character varying(5000)
);


ALTER TABLE public.route_annotations OWNER TO postgres;

--
-- Name: route_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.route_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.route_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: route_binding_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.route_binding_annotations (
                                                  id integer NOT NULL,
                                                  guid text NOT NULL,
                                                  created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                  updated_at timestamp without time zone,
                                                  resource_guid character varying(255),
                                                  key_prefix character varying(253),
                                                  key character varying(1000),
                                                  value character varying(5000)
);


ALTER TABLE public.route_binding_annotations OWNER TO postgres;

--
-- Name: route_binding_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.route_binding_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.route_binding_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: route_binding_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.route_binding_labels (
                                             id integer NOT NULL,
                                             guid text NOT NULL,
                                             created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                             updated_at timestamp without time zone,
                                             resource_guid character varying(255),
                                             key_prefix character varying(253),
                                             key_name character varying(63),
                                             value character varying(63)
);


ALTER TABLE public.route_binding_labels OWNER TO postgres;

--
-- Name: route_binding_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.route_binding_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.route_binding_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: route_binding_operations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.route_binding_operations (
                                                 id integer NOT NULL,
                                                 created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                 updated_at timestamp without time zone,
                                                 route_binding_id integer,
                                                 state character varying(255) NOT NULL,
                                                 type character varying(255) NOT NULL,
                                                 description character varying(10000),
                                                 broker_provided_operation character varying(10000)
);


ALTER TABLE public.route_binding_operations OWNER TO postgres;

--
-- Name: route_binding_operations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.route_binding_operations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.route_binding_operations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: route_bindings; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.route_bindings (
                                       id integer NOT NULL,
                                       guid text NOT NULL,
                                       created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                       updated_at timestamp without time zone,
                                       route_id integer,
                                       service_instance_id integer,
                                       route_service_url text
);


ALTER TABLE public.route_bindings OWNER TO postgres;

--
-- Name: route_bindings_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.route_bindings ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.route_bindings_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: route_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.route_labels (
                                     id integer NOT NULL,
                                     guid text NOT NULL,
                                     created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                     updated_at timestamp without time zone,
                                     resource_guid character varying(255),
                                     key_prefix character varying(253),
                                     key_name character varying(63),
                                     value character varying(63)
);


ALTER TABLE public.route_labels OWNER TO postgres;

--
-- Name: route_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.route_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.route_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: routes; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.routes (
                               id integer NOT NULL,
                               guid text NOT NULL,
                               created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                               updated_at timestamp without time zone,
                               host public.citext DEFAULT ''::public.citext NOT NULL,
                               domain_id integer NOT NULL,
                               space_id integer NOT NULL,
                               path public.citext DEFAULT ''::character varying NOT NULL,
                               port integer DEFAULT 0 NOT NULL,
                               vip_offset integer
);


ALTER TABLE public.routes OWNER TO postgres;

--
-- Name: routes_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.routes ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.routes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: schema_migrations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.schema_migrations (
    filename text NOT NULL
);


ALTER TABLE public.schema_migrations OWNER TO postgres;

--
-- Name: security_groups_spaces; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.security_groups_spaces (
                                               security_group_id integer NOT NULL,
                                               space_id integer NOT NULL,
                                               security_groups_spaces_pk integer NOT NULL
);


ALTER TABLE public.security_groups_spaces OWNER TO postgres;

--
-- Name: security_groups_spaces_security_groups_spaces_pk_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.security_groups_spaces ALTER COLUMN security_groups_spaces_pk ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.security_groups_spaces_security_groups_spaces_pk_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_binding_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_binding_annotations (
                                                    id integer NOT NULL,
                                                    guid text NOT NULL,
                                                    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                    updated_at timestamp without time zone,
                                                    resource_guid character varying(255),
                                                    key_prefix character varying(253),
                                                    key character varying(1000),
                                                    value character varying(5000)
);


ALTER TABLE public.service_binding_annotations OWNER TO postgres;

--
-- Name: service_binding_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_binding_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_binding_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_binding_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_binding_labels (
                                               id integer NOT NULL,
                                               guid text NOT NULL,
                                               created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                               updated_at timestamp without time zone,
                                               resource_guid character varying(255),
                                               key_prefix character varying(253),
                                               key_name character varying(63),
                                               value character varying(63)
);


ALTER TABLE public.service_binding_labels OWNER TO postgres;

--
-- Name: service_binding_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_binding_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_binding_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_binding_operations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_binding_operations (
                                                   id integer NOT NULL,
                                                   created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                   updated_at timestamp without time zone,
                                                   service_binding_id integer,
                                                   state character varying(255) NOT NULL,
                                                   type character varying(255) NOT NULL,
                                                   description character varying(10000),
                                                   broker_provided_operation character varying(10000)
);


ALTER TABLE public.service_binding_operations OWNER TO postgres;

--
-- Name: service_binding_operations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_binding_operations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_binding_operations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_bindings; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_bindings (
                                         id integer NOT NULL,
                                         guid text NOT NULL,
                                         created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                         updated_at timestamp without time zone,
                                         credentials text NOT NULL,
                                         salt text,
                                         syslog_drain_url text,
                                         volume_mounts text,
                                         volume_mounts_salt text,
                                         app_guid text NOT NULL,
                                         service_instance_guid text NOT NULL,
                                         type text,
                                         name character varying(255),
                                         encryption_key_label character varying(255),
                                         encryption_iterations integer DEFAULT 2048 NOT NULL
);


ALTER TABLE public.service_bindings OWNER TO postgres;

--
-- Name: service_bindings_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_bindings ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_bindings_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_broker_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_broker_annotations (
                                                   id integer NOT NULL,
                                                   guid text NOT NULL,
                                                   created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                   updated_at timestamp without time zone,
                                                   resource_guid character varying(255),
                                                   key_prefix character varying(253),
                                                   key character varying(1000),
                                                   value character varying(5000)
);


ALTER TABLE public.service_broker_annotations OWNER TO postgres;

--
-- Name: service_broker_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_broker_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_broker_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_broker_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_broker_labels (
                                              id integer NOT NULL,
                                              guid text NOT NULL,
                                              created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                              updated_at timestamp without time zone,
                                              resource_guid character varying(255),
                                              key_prefix character varying(253),
                                              key_name character varying(63),
                                              value character varying(63)
);


ALTER TABLE public.service_broker_labels OWNER TO postgres;

--
-- Name: service_broker_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_broker_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_broker_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_broker_update_request_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_broker_update_request_annotations (
                                                                  id integer NOT NULL,
                                                                  guid text NOT NULL,
                                                                  created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                                  updated_at timestamp without time zone,
                                                                  resource_guid character varying(255),
                                                                  key_prefix character varying(253),
                                                                  key character varying(1000),
                                                                  value character varying(5000)
);


ALTER TABLE public.service_broker_update_request_annotations OWNER TO postgres;

--
-- Name: service_broker_update_request_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_broker_update_request_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_broker_update_request_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_broker_update_request_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_broker_update_request_labels (
                                                             id integer NOT NULL,
                                                             guid text NOT NULL,
                                                             created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                             updated_at timestamp without time zone,
                                                             resource_guid character varying(255),
                                                             key_prefix character varying(253),
                                                             key_name character varying(63),
                                                             value character varying(63)
);


ALTER TABLE public.service_broker_update_request_labels OWNER TO postgres;

--
-- Name: service_broker_update_request_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_broker_update_request_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_broker_update_request_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_broker_update_requests; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_broker_update_requests (
                                                       id integer NOT NULL,
                                                       guid text NOT NULL,
                                                       created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                       updated_at timestamp without time zone,
                                                       name character varying(255),
                                                       broker_url character varying(255),
                                                       authentication character varying(16000),
                                                       salt character varying(255),
                                                       encryption_key_label character varying(255),
                                                       encryption_iterations integer DEFAULT 2048 NOT NULL,
                                                       service_broker_id integer NOT NULL,
                                                       fk_service_brokers_id integer
);


ALTER TABLE public.service_broker_update_requests OWNER TO postgres;

--
-- Name: service_broker_update_requests_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_broker_update_requests ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_broker_update_requests_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_brokers; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_brokers (
                                        id integer NOT NULL,
                                        guid text NOT NULL,
                                        created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                        updated_at timestamp without time zone,
                                        name text NOT NULL,
                                        broker_url text NOT NULL,
                                        auth_password text NOT NULL,
                                        salt text,
                                        auth_username text,
                                        space_id integer,
                                        encryption_key_label character varying(255),
                                        encryption_iterations integer DEFAULT 2048 NOT NULL,
                                        state character varying(255) DEFAULT ''::character varying NOT NULL
);


ALTER TABLE public.service_brokers OWNER TO postgres;

--
-- Name: service_brokers_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_brokers ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_brokers_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_dashboard_clients; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_dashboard_clients (
                                                  id integer NOT NULL,
                                                  created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                  updated_at timestamp without time zone,
                                                  uaa_id text NOT NULL,
                                                  service_broker_id integer
);


ALTER TABLE public.service_dashboard_clients OWNER TO postgres;

--
-- Name: service_dashboard_clients_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_dashboard_clients ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_dashboard_clients_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_instance_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_instance_annotations (
                                                     id integer NOT NULL,
                                                     guid text NOT NULL,
                                                     created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                     updated_at timestamp without time zone,
                                                     resource_guid character varying(255),
                                                     key_prefix character varying(253),
                                                     key character varying(1000),
                                                     value character varying(5000)
);


ALTER TABLE public.service_instance_annotations OWNER TO postgres;

--
-- Name: service_instance_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_instance_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_instance_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_instance_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_instance_labels (
                                                id integer NOT NULL,
                                                guid text NOT NULL,
                                                created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                updated_at timestamp without time zone,
                                                resource_guid character varying(255),
                                                key_prefix character varying(253),
                                                key_name character varying(63),
                                                value character varying(63)
);


ALTER TABLE public.service_instance_labels OWNER TO postgres;

--
-- Name: service_instance_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_instance_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_instance_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_instance_operations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_instance_operations (
                                                    id integer NOT NULL,
                                                    guid text NOT NULL,
                                                    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                    updated_at timestamp without time zone,
                                                    service_instance_id integer,
                                                    type text,
                                                    state text,
                                                    description text,
                                                    proposed_changes text DEFAULT '{}'::text NOT NULL,
                                                    broker_provided_operation text
);


ALTER TABLE public.service_instance_operations OWNER TO postgres;

--
-- Name: service_instance_operations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_instance_operations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_instance_operations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_instance_shares; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_instance_shares (
                                                service_instance_guid character varying(255) NOT NULL,
                                                target_space_guid character varying(255) NOT NULL
);


ALTER TABLE public.service_instance_shares OWNER TO postgres;

--
-- Name: service_instances; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_instances (
                                          id integer NOT NULL,
                                          guid text NOT NULL,
                                          created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                          updated_at timestamp without time zone,
                                          name text NOT NULL,
                                          credentials text,
                                          gateway_name text,
                                          gateway_data character varying(2048),
                                          space_id integer NOT NULL,
                                          service_plan_id integer,
                                          salt text,
                                          dashboard_url character varying(16000),
                                          is_gateway_service boolean DEFAULT true NOT NULL,
                                          syslog_drain_url text,
                                          tags text,
                                          route_service_url text,
                                          encryption_key_label character varying(255),
                                          encryption_iterations integer DEFAULT 2048 NOT NULL,
                                          maintenance_info text
);


ALTER TABLE public.service_instances OWNER TO postgres;

--
-- Name: service_instances_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_instances ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_instances_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_key_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_key_annotations (
                                                id integer NOT NULL,
                                                guid text NOT NULL,
                                                created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                updated_at timestamp without time zone,
                                                resource_guid character varying(255),
                                                key_prefix character varying(253),
                                                key character varying(1000),
                                                value character varying(5000)
);


ALTER TABLE public.service_key_annotations OWNER TO postgres;

--
-- Name: service_key_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_key_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_key_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_key_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_key_labels (
                                           id integer NOT NULL,
                                           guid text NOT NULL,
                                           created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                           updated_at timestamp without time zone,
                                           resource_guid character varying(255),
                                           key_prefix character varying(253),
                                           key_name character varying(63),
                                           value character varying(63)
);


ALTER TABLE public.service_key_labels OWNER TO postgres;

--
-- Name: service_key_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_key_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_key_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_key_operations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_key_operations (
                                               id integer NOT NULL,
                                               created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                               updated_at timestamp without time zone,
                                               service_key_id integer,
                                               state character varying(255) NOT NULL,
                                               type character varying(255) NOT NULL,
                                               description character varying(10000),
                                               broker_provided_operation character varying(10000)
);


ALTER TABLE public.service_key_operations OWNER TO postgres;

--
-- Name: service_key_operations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_key_operations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_key_operations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_keys; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_keys (
                                     id integer NOT NULL,
                                     guid text NOT NULL,
                                     created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                     updated_at timestamp without time zone,
                                     name text NOT NULL,
                                     salt text,
                                     credentials text NOT NULL,
                                     service_instance_id integer NOT NULL,
                                     encryption_key_label character varying(255),
                                     encryption_iterations integer DEFAULT 2048 NOT NULL
);


ALTER TABLE public.service_keys OWNER TO postgres;

--
-- Name: service_keys_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_keys ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_keys_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_offering_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_offering_annotations (
                                                     id integer NOT NULL,
                                                     guid text NOT NULL,
                                                     created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                     updated_at timestamp without time zone,
                                                     resource_guid character varying(255),
                                                     key_prefix character varying(253),
                                                     key character varying(1000),
                                                     value character varying(5000)
);


ALTER TABLE public.service_offering_annotations OWNER TO postgres;

--
-- Name: service_offering_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_offering_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_offering_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_offering_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_offering_labels (
                                                id integer NOT NULL,
                                                guid text NOT NULL,
                                                created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                updated_at timestamp without time zone,
                                                resource_guid character varying(255),
                                                key_prefix character varying(253),
                                                key_name character varying(63),
                                                value character varying(63)
);


ALTER TABLE public.service_offering_labels OWNER TO postgres;

--
-- Name: service_offering_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_offering_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_offering_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_plan_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_plan_annotations (
                                                 id integer NOT NULL,
                                                 guid text NOT NULL,
                                                 created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                 updated_at timestamp without time zone,
                                                 resource_guid character varying(255),
                                                 key_prefix character varying(253),
                                                 key character varying(1000),
                                                 value character varying(5000)
);


ALTER TABLE public.service_plan_annotations OWNER TO postgres;

--
-- Name: service_plan_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_plan_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_plan_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_plan_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_plan_labels (
                                            id integer NOT NULL,
                                            guid text NOT NULL,
                                            created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                            updated_at timestamp without time zone,
                                            resource_guid character varying(255),
                                            key_prefix character varying(253),
                                            key_name character varying(63),
                                            value character varying(63)
);


ALTER TABLE public.service_plan_labels OWNER TO postgres;

--
-- Name: service_plan_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_plan_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_plan_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_plan_visibilities; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_plan_visibilities (
                                                  id integer NOT NULL,
                                                  guid text NOT NULL,
                                                  created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                  updated_at timestamp without time zone,
                                                  service_plan_id integer NOT NULL,
                                                  organization_id integer NOT NULL
);


ALTER TABLE public.service_plan_visibilities OWNER TO postgres;

--
-- Name: service_plan_visibilities_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_plan_visibilities ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_plan_visibilities_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_plans; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_plans (
                                      id integer NOT NULL,
                                      guid text NOT NULL,
                                      created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                      updated_at timestamp without time zone,
                                      name public.citext NOT NULL,
                                      description text NOT NULL,
                                      free boolean NOT NULL,
                                      service_id integer NOT NULL,
                                      extra text,
                                      unique_id text NOT NULL,
                                      public boolean DEFAULT true,
                                      active boolean DEFAULT true,
                                      bindable boolean,
                                      create_instance_schema text,
                                      update_instance_schema text,
                                      create_binding_schema text,
                                      plan_updateable boolean,
                                      maximum_polling_duration integer,
                                      maintenance_info text
);


ALTER TABLE public.service_plans OWNER TO postgres;

--
-- Name: service_plans_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_plans ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_plans_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service_usage_events; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_usage_events (
                                             id integer NOT NULL,
                                             guid text NOT NULL,
                                             created_at timestamp without time zone NOT NULL,
                                             state text NOT NULL,
                                             org_guid text NOT NULL,
                                             space_guid text NOT NULL,
                                             space_name text NOT NULL,
                                             service_instance_guid text NOT NULL,
                                             service_instance_name text NOT NULL,
                                             service_instance_type text NOT NULL,
                                             service_plan_guid text,
                                             service_plan_name text,
                                             service_guid text,
                                             service_label text,
                                             service_broker_name text,
                                             service_broker_guid character varying(255)
);


ALTER TABLE public.service_usage_events OWNER TO postgres;

--
-- Name: service_usage_events_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.service_usage_events ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.service_usage_events_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: services; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.services (
                                 id integer NOT NULL,
                                 guid text NOT NULL,
                                 created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                 updated_at timestamp without time zone,
                                 label public.citext NOT NULL,
                                 description text NOT NULL,
                                 info_url text,
                                 acls text,
                                 timeout integer,
                                 active boolean DEFAULT false,
                                 extra text,
                                 unique_id text,
                                 bindable boolean NOT NULL,
                                 tags text,
                                 documentation_url text,
                                 service_broker_id integer,
                                 long_description text,
                                 requires text,
                                 purging boolean DEFAULT false NOT NULL,
                                 plan_updateable boolean DEFAULT false,
                                 bindings_retrievable boolean DEFAULT false NOT NULL,
                                 instances_retrievable boolean DEFAULT false NOT NULL,
                                 allow_context_updates boolean DEFAULT false NOT NULL
);


ALTER TABLE public.services OWNER TO postgres;

--
-- Name: services_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.services ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.services_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: sidecar_process_types; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.sidecar_process_types (
                                              id integer NOT NULL,
                                              guid text NOT NULL,
                                              created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                              updated_at timestamp without time zone,
                                              type character varying(255) NOT NULL,
                                              sidecar_guid character varying(255) NOT NULL,
                                              app_guid character varying(255) NOT NULL
);


ALTER TABLE public.sidecar_process_types OWNER TO postgres;

--
-- Name: sidecar_process_types_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.sidecar_process_types ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.sidecar_process_types_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: sidecars; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.sidecars (
                                 id integer NOT NULL,
                                 guid text NOT NULL,
                                 created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                 updated_at timestamp without time zone,
                                 name character varying(255) NOT NULL,
                                 command character varying(4096) NOT NULL,
                                 app_guid character varying(255) NOT NULL,
                                 memory integer,
                                 origin character varying(255) DEFAULT 'user'::character varying NOT NULL
);


ALTER TABLE public.sidecars OWNER TO postgres;

--
-- Name: sidecars_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.sidecars ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.sidecars_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: space_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.space_annotations (
                                          id integer NOT NULL,
                                          guid text NOT NULL,
                                          created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                          updated_at timestamp without time zone,
                                          resource_guid character varying(255),
                                          key_prefix character varying(253),
                                          key character varying(1000),
                                          value character varying(5000)
);


ALTER TABLE public.space_annotations OWNER TO postgres;

--
-- Name: space_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.space_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.space_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: space_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.space_labels (
                                     id integer NOT NULL,
                                     guid text NOT NULL,
                                     created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                     updated_at timestamp without time zone,
                                     resource_guid character varying(255),
                                     key_prefix character varying(253),
                                     key_name character varying(63),
                                     value character varying(63)
);


ALTER TABLE public.space_labels OWNER TO postgres;

--
-- Name: space_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.space_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.space_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: space_quota_definitions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.space_quota_definitions (
                                                id integer NOT NULL,
                                                guid text NOT NULL,
                                                created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                updated_at timestamp without time zone,
                                                name text NOT NULL,
                                                non_basic_services_allowed boolean NOT NULL,
                                                total_services integer NOT NULL,
                                                memory_limit integer NOT NULL,
                                                total_routes integer NOT NULL,
                                                instance_memory_limit integer DEFAULT '-1'::integer NOT NULL,
                                                organization_id integer NOT NULL,
                                                app_instance_limit integer DEFAULT '-1'::integer,
                                                app_task_limit integer DEFAULT 5,
                                                total_service_keys integer DEFAULT '-1'::integer NOT NULL,
                                                total_reserved_route_ports integer DEFAULT '-1'::integer
);


ALTER TABLE public.space_quota_definitions OWNER TO postgres;

--
-- Name: space_quota_definitions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.space_quota_definitions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.space_quota_definitions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: spaces; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.spaces (
                               id integer NOT NULL,
                               guid text NOT NULL,
                               created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                               updated_at timestamp without time zone,
                               name public.citext NOT NULL,
                               organization_id integer NOT NULL,
                               space_quota_definition_id integer,
                               allow_ssh boolean DEFAULT true,
                               isolation_segment_guid text
);


ALTER TABLE public.spaces OWNER TO postgres;

--
-- Name: spaces_application_supporters; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.spaces_application_supporters (
                                                      spaces_application_supporters_pk integer NOT NULL,
                                                      role_guid character varying(255),
                                                      space_id integer NOT NULL,
                                                      user_id integer NOT NULL,
                                                      created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                                      updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.spaces_application_supporters OWNER TO postgres;

--
-- Name: spaces_application_supporters_spaces_application_supporters_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.spaces_application_supporters ALTER COLUMN spaces_application_supporters_pk ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.spaces_application_supporters_spaces_application_supporters_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: spaces_auditors; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.spaces_auditors (
                                        space_id integer NOT NULL,
                                        user_id integer NOT NULL,
                                        spaces_auditors_pk integer NOT NULL,
                                        role_guid character varying(255),
                                        created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                        updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.spaces_auditors OWNER TO postgres;

--
-- Name: spaces_auditors_spaces_auditors_pk_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.spaces_auditors ALTER COLUMN spaces_auditors_pk ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.spaces_auditors_spaces_auditors_pk_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: spaces_developers; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.spaces_developers (
                                          space_id integer NOT NULL,
                                          user_id integer NOT NULL,
                                          spaces_developers_pk integer NOT NULL,
                                          role_guid character varying(255),
                                          created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                          updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.spaces_developers OWNER TO postgres;

--
-- Name: spaces_developers_spaces_developers_pk_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.spaces_developers ALTER COLUMN spaces_developers_pk ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.spaces_developers_spaces_developers_pk_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: spaces_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.spaces ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.spaces_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: spaces_managers; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.spaces_managers (
                                        space_id integer NOT NULL,
                                        user_id integer NOT NULL,
                                        spaces_managers_pk integer NOT NULL,
                                        role_guid character varying(255),
                                        created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                        updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.spaces_managers OWNER TO postgres;

--
-- Name: spaces_managers_spaces_managers_pk_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.spaces_managers ALTER COLUMN spaces_managers_pk ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.spaces_managers_spaces_managers_pk_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: stack_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.stack_annotations (
                                          id integer NOT NULL,
                                          guid text NOT NULL,
                                          created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                          updated_at timestamp without time zone,
                                          resource_guid character varying(255),
                                          key_prefix character varying(253),
                                          key character varying(1000),
                                          value character varying(5000)
);


ALTER TABLE public.stack_annotations OWNER TO postgres;

--
-- Name: stack_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.stack_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.stack_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: stack_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.stack_labels (
                                     id integer NOT NULL,
                                     guid text NOT NULL,
                                     created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                     updated_at timestamp without time zone,
                                     resource_guid character varying(255),
                                     key_prefix character varying(253),
                                     key_name character varying(63),
                                     value character varying(63)
);


ALTER TABLE public.stack_labels OWNER TO postgres;

--
-- Name: stack_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.stack_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.stack_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: stacks; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.stacks (
                               id integer NOT NULL,
                               guid text NOT NULL,
                               created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                               updated_at timestamp without time zone,
                               name text NOT NULL,
                               description text
);


ALTER TABLE public.stacks OWNER TO postgres;

--
-- Name: stacks_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.stacks ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.stacks_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: staging_security_groups_spaces; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.staging_security_groups_spaces (
                                                       staging_security_group_id integer NOT NULL,
                                                       staging_space_id integer NOT NULL,
                                                       staging_security_groups_spaces_pk integer NOT NULL
);


ALTER TABLE public.staging_security_groups_spaces OWNER TO postgres;

--
-- Name: staging_security_groups_space_staging_security_groups_space_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.staging_security_groups_spaces ALTER COLUMN staging_security_groups_spaces_pk ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.staging_security_groups_space_staging_security_groups_space_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: task_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.task_annotations (
                                         id integer NOT NULL,
                                         guid text NOT NULL,
                                         created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                         updated_at timestamp without time zone,
                                         resource_guid character varying(255),
                                         key_prefix character varying(253),
                                         key character varying(1000),
                                         value character varying(5000)
);


ALTER TABLE public.task_annotations OWNER TO postgres;

--
-- Name: task_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.task_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.task_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: task_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.task_labels (
                                    id integer NOT NULL,
                                    guid text NOT NULL,
                                    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                    updated_at timestamp without time zone,
                                    resource_guid character varying(255),
                                    key_prefix character varying(253),
                                    key_name character varying(63),
                                    value character varying(63)
);


ALTER TABLE public.task_labels OWNER TO postgres;

--
-- Name: task_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.task_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.task_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tasks; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tasks (
                              id integer NOT NULL,
                              guid text NOT NULL,
                              created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                              updated_at timestamp without time zone,
                              name public.citext NOT NULL,
                              command text NOT NULL,
                              state text NOT NULL,
                              memory_in_mb integer,
                              encrypted_environment_variables text,
                              salt text,
                              failure_reason character varying(4096),
                              app_guid text NOT NULL,
                              droplet_guid text NOT NULL,
                              sequence_id integer,
                              disk_in_mb integer,
                              encryption_key_label character varying(255),
                              encryption_iterations integer DEFAULT 2048 NOT NULL
);


ALTER TABLE public.tasks OWNER TO postgres;

--
-- Name: tasks_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tasks ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tasks_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_annotations (
                                         id integer NOT NULL,
                                         guid text NOT NULL,
                                         created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                         updated_at timestamp without time zone,
                                         resource_guid character varying(255),
                                         key_prefix character varying(253),
                                         key character varying(1000),
                                         value character varying(5000)
);


ALTER TABLE public.user_annotations OWNER TO postgres;

--
-- Name: user_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.user_annotations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_annotations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_labels; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_labels (
                                    id integer NOT NULL,
                                    guid text NOT NULL,
                                    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                                    updated_at timestamp without time zone,
                                    resource_guid character varying(255),
                                    key_prefix character varying(253),
                                    key_name character varying(63),
                                    value character varying(63)
);


ALTER TABLE public.user_labels OWNER TO postgres;

--
-- Name: user_labels_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.user_labels ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_labels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
                              id integer NOT NULL,
                              guid text NOT NULL,
                              created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                              updated_at timestamp without time zone,
                              default_space_id integer,
                              admin boolean DEFAULT false,
                              active boolean DEFAULT false,
                              is_oauth_client boolean
);


ALTER TABLE public.users OWNER TO postgres;

--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.users ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);
